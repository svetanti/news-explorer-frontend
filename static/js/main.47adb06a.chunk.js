(this["webpackJsonpnews-explorer-frontend"]=this["webpackJsonpnews-explorer-frontend"]||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/github.f734cc7f.svg"},29:function(e,t,a){e.exports=a.p+"static/media/fb.4b12ed39.svg"},31:function(e,t,a){e.exports=a(44)},36:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(26),c=a.n(r),l=a(7),s=a(17),i=a(23),m=a(3),u=a(1);a(36);function p(e){var t=e.linkClassName,a=e.activeLinkClassName,n=e.path,r=e.children;return o.a.createElement(l.b,{className:"link ".concat(t),activeClassName:a,exact:!0,to:n},r)}function d(e){var t=e.isMenuOpened,a=e.pathname,n="logo ".concat("/"===a||t?"logo_white":"logo_dark");return o.a.createElement(p,{path:"/",linkClassName:"logo__link"},o.a.createElement("h1",{className:n}," NewsExplorer"))}function h(e){var t=e.type,a=e.children,n=e.buttonClassName,r=e.onClick,c=e.disabled;return o.a.createElement("button",{type:t,className:"button ".concat(n),onClick:r,disabled:c},a)}function g(e){var t=e.onMenuClick,a=e.isMenuOpened,n=Object(u.h)().pathname,r="\n    menu-icon \n    ".concat(a?"menu-icon_opened":"menu-icon_closed","\n    ").concat("/"===n?"menu-icon_white":"menu-icon_dark");return o.a.createElement("button",{className:r,onClick:t},o.a.createElement("span",null))}function _(e){var t=e.isLoggedIn,a=e.isMenuOpened,n=e.navigationClassName,r=e.pathname,c="nav__item ".concat("/"===r||a?"nav__item_white":"nav__item_dark");return o.a.createElement("nav",{className:"nav ".concat(n)},o.a.createElement(p,{linkClassName:c,activeLinkClassName:"nav__item_active",path:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),t&&o.a.createElement(p,{linkClassName:c,activeLinkClassName:"nav__item_active",path:"/saved-news"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"))}function f(){return o.a.createElement("svg",{className:"signout-icon",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMin slice ",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6L6 6L6 18H10V20H6C4.89543 20 4 19.1046 4 18V6C4 4.89543 4.89543 4 6 4H10V6ZM17.5856 13L13.2927 17.1339L14.707 18.4958L21.4141 12.0371L14.707 5.57837L13.2927 6.9402L17.5856 11.0741H8V13H17.5856Z",fill:"currentColor"}))}var b=o.a.createContext();function E(e){var t=e.isLoggedIn,a=e.isMenuOpened,r=e.onMenuOpen,c=e.onClick,l=Object(n.useContext)(b),s=Object(u.h)().pathname,i="header ".concat(a?"header_mobile":""),m="".concat(a?"header__nav_mobile":""),p="header__button\n    ".concat(a?"header__button_mobile":"","\n    ").concat("/"===s||a?"header__button_white":"header__button_dark");return o.a.createElement("header",{className:i},o.a.createElement(d,{isMenuOpened:a,pathname:s}),o.a.createElement(g,{isMenuOpened:a,onMenuClick:r,pathname:s}),o.a.createElement(_,{navigationClassName:m,isLoggedIn:t,isMenuOpened:a,pathname:s}),o.a.createElement(h,{buttonClassName:p,isMenuOpened:a,onClick:c},o.a.createElement("span",{className:"header__button-text"},t?l.name:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),t&&o.a.createElement(f,null)))}function v(e){var t=e.name,a=e.formName,n=e.value,r=e.type,c=e.minLength,l=e.maxLength,s=e.required,i=e.autoComplete,m=e.isValid,u=e.onChange,p=e.placeholder,d=e.label,h=e.inputLabelClassName,g=e.inputFieldClassName,_=e.errorMessage;return o.a.createElement("label",{className:"input ".concat(h),htmlFor:"".concat(t,"_").concat(a)},d,o.a.createElement("input",{id:"".concat(t,"_").concat(a),type:r,value:n,minLength:c,maxLength:l,required:s,autoComplete:i,onChange:u,className:"input__field ".concat(g),placeholder:p}),o.a.createElement("span",{className:"input__error ".concat(t,"__input-error ").concat(!m&&"".concat(t,"__input-error_active")),id:"".concat(t,"-error")},_))}var w=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),c=Object(m.a)(r,2),l=c[0],s=c[1],i=Object(n.useState)(!1),u=Object(m.a)(i,2),p=u[0],d=u[1],h=Object(n.useCallback)((function(e){o(e.target.value),s(e.target.validationMessage),d(e.target.validity.valid)}),[]);return{value:a,errorMessage:l,setErrorMessage:s,isValid:p,onChange:h}};function N(e){var t=e.onSearch,a=w();return o.a.createElement("div",{className:"search"},o.a.createElement("div",null,o.a.createElement("h2",{className:"search__heading"},"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432\xa0\u043c\u0438\u0440\u0435?"),o.a.createElement("p",{className:"search__subtitle"},"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430\xa0\u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438\xa0\u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432\xa0\u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435.")),o.a.createElement("form",{className:"search__form",onSubmit:function(e){var n=a.value,o=a.setErrorMessage;e.preventDefault(),t(n,o)},noValidate:!0},o.a.createElement(v,Object.assign({name:"search",type:"text"},a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",inputFieldClassName:"search__input-field",inputLabelClassName:"search__input"})),o.a.createElement(h,{type:"submit",buttonClassName:"search__button"},"\u0418\u0441\u043a\u0430\u0442\u044c")))}function C(){return o.a.createElement("section",{className:"about"},o.a.createElement("img",{src:"https://images.unsplash.com/photo-1490650034439-fd184c3c86a5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=80",alt:"\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",className:"about__image"}),o.a.createElement("div",{className:"about__text"},o.a.createElement("h2",{className:"about__heading"},"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"),o.a.createElement("p",{className:"about__info"},"\u042d\u0442\u043e \u0431\u043b\u043e\u043a \u0441\xa0\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0430\u0432\u0442\u043e\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u0417\u0434\u0435\u0441\u044c \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a \u0432\u0430\u0441 \u0437\u043e\u0432\u0443\u0442, \u0447\u0435\u043c \u0432\u044b\xa0\u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0435\u0441\u044c, \u043a\u0430\u043a\u0438\u043c\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u043c\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u043b\u0430\u0434\u0435\u0435\u0442\u0435."),o.a.createElement("p",{className:"about__info"},"\u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e\xa0\u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0432\xa0\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0435, \u0447\u0435\u043c\u0443 \u0432\u044b\xa0\u0442\u0443\u0442 \u043d\u0430\u0443\u0447\u0438\u043b\u0438\u0441\u044c, \u0438\xa0\u0447\u0435\u043c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043c\u043e\u0447\u044c \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430\u043c.")))}function O(){return o.a.createElement("div",{className:"preloader__wrapper"},o.a.createElement("div",{className:"preloader"},o.a.createElement("i",{className:"preloader__spinner"}),o.a.createElement("span",{className:"preloader__text"},"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439...")))}function j(e){var t=e.pathname,a=e.isSaved;return o.a.createElement(o.a.Fragment,null,"/"===t&&!a&&o.a.createElement("svg",{className:"card-button-icon card-button-icon_bookmark",width:"14",height:"19",viewBox:"0 0 14 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M6.38218 12.7137L1 16.9425V1L13 1V16.9425L7.61782 12.7137L7 12.2283L6.38218 12.7137Z",strokeWidth:"2"})),"/"===t&&a&&o.a.createElement("svg",{className:"card-button-icon card-button-icon_saved",width:"14",height:"19",viewBox:"0 0 14 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 1C0 0.447715 0.447715 0 1 0H13C13.5523 0 14 0.447715 14 1V19L7 13.5L0 19V1Z"})),"/"!==t&&o.a.createElement("svg",{className:"card-button-icon card-button-icon_bin",width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0H6V2H0V4H18V2H12V0ZM2 6V17C2 18.1046 2.89543 19 4 19H14C15.1046 19 16 18.1046 16 17V6H14V17H4V6H2ZM6 6L6 15H8L8 6H6ZM10 6V15H12V6H10Z"})))}var k=o.a.createContext();function y(e){var t=e.isLoggedIn,a=e.onCardClick,r=e.article,c=r.keyword,l=r.title,s=r.description,i=r.publishedAt,m=r.url,p=r.urlToImage,d=r.source,h=Object(n.useContext)(k).savedNews,g=Object(u.h)().pathname,_=t&&h.some((function(e){return e.publishedAt===r.publishedAt&&e.title===r.title})),f=new Date(i),b=f.toLocaleString("ru",{month:"long",day:"numeric"})+", "+f.getFullYear(),E=t?"".concat(_&&"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445"):"\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438";return o.a.createElement("li",{className:"card"},"/saved-news"===g&&o.a.createElement("span",{className:"card__element card__keyword"},c),o.a.createElement("button",{type:"button",className:"card__element card__button",onClick:function(){a(r)},disabled:!t},o.a.createElement(j,{pathname:g,isSaved:_})),(!t||t&&_)&&o.a.createElement("span",{className:"card__element card__tooltip"},E),o.a.createElement("div",{className:"card__img-wrapper"},o.a.createElement("img",{src:p,alt:l,className:"card__image"})),o.a.createElement("div",{className:"card__content"},o.a.createElement("span",{className:"card__date"},b),o.a.createElement("h2",{className:"card__title"},l),o.a.createElement("p",{className:"card__text"},s),o.a.createElement("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"card__source"},"/"===g?d.name:d)))}function L(e){var t=e.isLoggedIn,a=e.onCardClick,n=e.newsToRender,r=e.savedNews;return o.a.createElement("section",{className:"news-card-list"},o.a.createElement("ul",{className:"news-card-list__wrapper"},n.map((function(e,n){return o.a.createElement(y,{article:e,key:n,isLoggedIn:t,savedNews:r,onCardClick:a})}))))}function S(e){var t=e.onSearch,a=e.isLoggedIn,r=e.isLoading,c=e.onCardClick,l=e.onShowMore,s=e.isSearchOk,i=e.currentRow,m=e.isError,u=Object(n.useContext)(k),p=u.news,d=u.savedNews,g=p.slice(0,3*(i+1));return o.a.createElement("section",{className:"main"},o.a.createElement(N,{onSearch:t}),r&&o.a.createElement(O,null),s&&o.a.createElement("div",{className:"main__news-container"},g.length?o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"main__news-heading"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"),o.a.createElement(L,{newsToRender:g,isLoggedIn:a,savedNews:d,onCardClick:c,currentRow:i}),g.length!==p.length&&o.a.createElement(h,{buttonClassName:"main__show-more",onClick:l},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435")):o.a.createElement("div",{className:"main__not-found"},o.a.createElement("span",{className:"main__not-found-icon"}),o.a.createElement("h3",{className:"main__not-found-heading"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),o.a.createElement("p",{className:"main__not-found-text"},"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."))),m&&o.a.createElement("div",{className:"main__news-container"},o.a.createElement("div",{className:"main__not-found"},o.a.createElement("h3",{className:"main__not-found-heading"},"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."),o.a.createElement("p",{className:"main__not-found-text"},"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"))),o.a.createElement(C,null))}function x(e){var t,a=e.isLoggedIn,r=Object(n.useContext)(b),c=Object(n.useContext)(k).savedNews,l=a?c.map((function(e){return e.keyword})):[],i=Object(s.a)(new Set(l)).map((function(e){var t={};return t.keyword=e,t.quantity=l.filter((function(t){return t===e})).length,t})).sort((function(e,t){return t.quantity-e.quantity})).map((function(e){return e.keyword})),m=i.length<=3?i.join(", "):"".concat(i.slice(0,3).join(", ")," \u0438 ").concat(i.slice(3).length,"-").concat((t=i,["\u043c\u0443","\u043c","\u0438"][t.slice(3).length%10===1&&t.slice(3).length%100!==11?0:t.slice(3).length%10>=2&&t.slice(3).length%10<=4&&(t.slice(3).length%100<10||t.slice(3).length%100>=20)?1:2])," ").concat(function(e){return["\u0434\u0440\u0443\u0433\u043e\u043c\u0443","\u0434\u0440\u0443\u0433\u0438\u043c"][e.slice(3).length%10===1&&e.slice(3).length%100!==11?0:1]}(i));return o.a.createElement("div",{className:"saved-news-header"},o.a.createElement("p",{className:"saved-news-header__title"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),o.a.createElement("h2",{className:"saved-news-header__heading"},r.name,", \u0443 \u0432\u0430\u0441 ",c.length," \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 ",function(e){return["\u0441\u0442\u0430\u0442\u044c\u044f","\u0441\u0442\u0430\u0442\u044c\u0438","\u0441\u0442\u0430\u0442\u0435\u0439"][(e.length,e.length%10>=2&&e.length%10<=4&&(e.length%100<10||e.length%100>=20)?1:2)]}(c)),o.a.createElement("p",{className:"saved-news-header__keywords-list"},"\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c:\xa0",o.a.createElement("span",{className:"saved-news-header__keywords"},m)))}function M(e){var t=e.isLoggedIn,a=e.onCardClick,r=Object(n.useContext)(k).savedNews;return o.a.createElement("div",{className:"saved-news"},o.a.createElement(x,{isLoggedIn:t}),o.a.createElement(L,{newsToRender:r,isLoggedIn:t,onCardClick:a}))}var I=a(28),F=a.n(I),V=a(29),T=a.n(V);function A(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 ",(new Date).getFullYear()," Supersite, Powered by News API"),o.a.createElement("ul",{className:"footer__links"},o.a.createElement("li",null,o.a.createElement(p,{path:"/",linkClassName:"footer__link"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),o.a.createElement("li",null,o.a.createElement("a",{className:"footer__link",href:"https://praktikum.yandex.ru/",target:"_blank",rel:"noopener noreferrer"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"))),o.a.createElement("ul",{className:"footer__social"},o.a.createElement("li",null,o.a.createElement("a",{href:"https://github.com/svetanti",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"footer__social-icon",src:F.a,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 GitHub"}))),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.facebook.com/svetlana.antipova.399",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"footer__social-icon",src:T.a,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 Facebook"})))))}function H(e){var t=e.isOpen,a=e.onSubmit,n=e.onClose,r=e.formName,c=e.onChangeForm,l=e.children,s=e.submitButtonText,i=e.isFormValid,m=e.authError;return o.a.createElement("div",{className:"popup popup_type_".concat(r," ").concat(t&&"popup_opened")},o.a.createElement("div",{className:"popup__overlay",onClick:n}),o.a.createElement("form",{className:"popup__form ".concat(r,"__form"),name:r,onSubmit:a},o.a.createElement("button",{type:"reset",className:"popup__close-button",onClick:n}),o.a.createElement("fieldset",{className:"popup__input-container"},l),"tooltip"!==r&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"popup__error"},m),o.a.createElement(h,{buttonClassName:"popup__submit",onClick:a,disabled:!i},s)),o.a.createElement("span",{className:"popup__subtitle"},"tooltip"!==r&&"\u0438\u043b\u0438 ",o.a.createElement("span",{className:"popup__link",onClick:c},"login"!==r?"\u0412\u043e\u0439\u0442\u0438":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))}function B(e){var t=e.isOpen,a=e.onClose,n=e.onChangeForm,r=e.onLogin,c=e.authError,l=w(),s=w();return o.a.createElement(H,{formName:"login",isOpen:t,onClose:a,onChangeForm:n,isFormValid:l.isValid&&s.isValid,onSubmit:function(e){e.preventDefault(),r(l.value,s.value)},authError:c,submitButtonText:"\u0412\u043e\u0439\u0442\u0438"},o.a.createElement("legend",{className:"popup__heading"},"\u0412\u0445\u043e\u0434"),o.a.createElement(v,Object.assign({label:"Email",name:"email",formName:"log",type:"email",minLength:"6",maxLength:"30",required:!0,autoComplete:"email"},l,{inputLabelClassName:"popup__input-label",inputFieldClassName:"popup__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443"})),o.a.createElement(v,Object.assign({label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",formName:"log",type:"password",minLength:"8",maxLength:"30",required:!0,autoComplete:"password"},s,{inputLabelClassName:"popup__input-label",inputFieldClassName:"popup__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})))}function R(e){var t=e.isOpen,a=e.onClose,n=e.onChangeForm,r=e.onRegister,c=e.authError,l=w(),s=w(),i=w();return o.a.createElement(H,{formName:"registration",isOpen:t,onClose:a,onChangeForm:n,isFormValid:l.isValid&&i.isValid&&s.isValid,onSubmit:function(e){e.preventDefault(),r(l.value,i.value,s.value)},authError:c,submitButtonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},o.a.createElement("legend",{className:"popup__heading"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement(v,Object.assign({label:"Email",name:"email",formName:"reg",minLength:"6",maxLength:"30",type:"email",required:!0,autoComplete:"email"},l,{inputLabelClassName:"popup__input-label",inputFieldClassName:"popup__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443"})),o.a.createElement(v,Object.assign({label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",formName:"reg",minLength:"8",maxLength:"30",type:"password",required:!0,autoComplete:"password"},i,{inputLabelClassName:"popup__input-label",inputFieldClassName:"popup__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),o.a.createElement(v,Object.assign({label:"\u0418\u043c\u044f",name:"name",formName:"reg",minLength:"2",maxLength:"30",type:"text",required:!0},s,{inputLabelClassName:"popup__input-label",inputFieldClassName:"popup__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"})))}function q(e){var t=e.isOpen,a=e.onClose,n=e.onChangeForm;return o.a.createElement(H,{formName:"tooltip",isOpen:t,onClose:a,onChangeForm:n},o.a.createElement("legend",{className:"popup__heading"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!"))}var D=a(30),z=function(e){var t=e.component,a=Object(D.a)(e,["component"]);return o.a.createElement(u.b,null,(function(){return a.isLoggedIn?o.a.createElement(t,a):o.a.createElement(u.a,{to:"/"})}))},J={year:"numeric",month:"2-digit",day:"2-digit"},P=new Intl.DateTimeFormat("fr-CA",J).format(Date.now()-6048e5),Z=new Intl.DateTimeFormat("fr-CA",J).format(Date.now()),W={baseUrl:"https://nomoreparties.co/news/v2/everything",from:"from=".concat(P),to:"to=".concat(Z),pageSize:"pageSize=100",apiKey:"apiKey=19a7ee150200415abfcf6899be597e77",headers:{"Content-Type":"application/x-www-form-urlencoded"}},G="https://api.newnews.students.nomoreparties.xyz",K=W.baseUrl,Y=W.from,U=W.to,Q=W.pageSize,$=W.apiKey,X=W.headers;function ee(e){return function(e,t){return fetch("".concat(K,"?q=").concat(e,"&").concat(Y,"&").concat(U,"&").concat(Q,"&").concat($),t).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}(e,{headers:X})}var te=a(14),ae=a(15),ne=a(18),oe=a(19),re=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;Object(te.a)(this,a);for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return(n=t.call.apply(t,[this].concat(r))).status=400,n.message=e,n}return a}(Object(oe.a)(Error)),ce=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;Object(te.a)(this,a);for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return(n=t.call.apply(t,[this].concat(r))).status=401,n.message=e,n}return a}(Object(oe.a)(Error)),le=function(e){return fetch("".concat(G,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new ce(e.message)}))})).then((function(e){return e}))};function se(){var e=a(42),t=Object(n.useState)(!1),r=Object(m.a)(t,2),c=r[0],l=r[1],p=Object(n.useState)({}),d=Object(m.a)(p,2),h=d[0],g=d[1],_=Object(n.useState)(!1),f=Object(m.a)(_,2),v=f[0],w=f[1],N=Object(n.useState)(!1),C=Object(m.a)(N,2),O=C[0],j=C[1],y=Object(n.useState)(!1),L=Object(m.a)(y,2),x=L[0],I=L[1],F=Object(n.useState)(""),V=Object(m.a)(F,2),T=V[0],H=V[1],D=Object(n.useState)(!1),J=Object(m.a)(D,2),P=J[0],Z=J[1],W=Object(n.useState)(!1),K=Object(m.a)(W,2),Y=K[0],U=K[1],Q=Object(n.useState)(!1),$=Object(m.a)(Q,2),X=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(m.a)(ae,2),oe=ne[0],se=ne[1],ie=Object(n.useState)(0),me=Object(m.a)(ie,2),ue=me[0],pe=me[1],de=Object(n.useState)([]),he=Object(m.a)(de,2),ge=he[0],_e=he[1],fe=Object(n.useState)([]),be=Object(m.a)(fe,2),Ee=be[0],ve=be[1],we=Object(u.g)();function Ne(){w(!1),j(!1),I(!1),H("")}function Ce(){H(""),j(!O),w(!v)}function Oe(){fetch("".concat(G,"/articles"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){return e.json()})).then((function(e){ve(e.data)})).catch((function(e){return console.log(e)}))}function je(e){var t;(t=e._id,fetch("".concat(G,"/articles/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})).then((function(){return ve(Ee.filter((function(t){return t._id!==e._id})))})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438: ".concat(e))}))}return Object(n.useEffect)((function(){var e=localStorage.getItem("jwt");e&&le(e).then((function(e){l(!0),g(e.data),Oe()})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("news"));e&&e.length&&(_e(e),te(!0))}),[]),Object(n.useEffect)((function(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ne()}return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[]),o.a.createElement(b.Provider,{value:h},o.a.createElement(k.Provider,{value:{news:ge,savedNews:Ee}},o.a.createElement("div",{className:"app"},o.a.createElement(E,{isLoggedIn:c,isMenuOpened:oe,onMenuOpen:function(){se(!oe)},onClick:function(){c?(l(!1),localStorage.removeItem("jwt"),g({}),we.push("/")):j(!0)}}),o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/"},o.a.createElement(S,{onSearch:function(e,t){e?(Z(!0),te(!1),_e([]),pe(0),ee(e).then((function(t){te(!0);var a=t.articles.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{keyword:e})}));localStorage.setItem("news",JSON.stringify(a)),U(!1),_e(a),Z(!1)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439: ".concat(e)),Z(!1),U(!0)}))):t("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e")},isLoggedIn:c,isLoading:P,isError:Y,onCardClick:function(e){var t=Ee.find((function(t){return t.publishedAt===e.publishedAt&&t.title===e.title}));t?je(t):function(e){var t=e.keyword,a=e.title,n=e.description,o=e.publishedAt,r=e.source,c=e.url,l=e.urlToImage;return fetch("".concat(G,"/articles"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},credentials:"include",body:JSON.stringify({keyword:t,title:a,description:n,publishedAt:o,source:r.name,url:c,urlToImage:l})})}(e).then((function(e){return e.json()})).then((function(e){ve([e.data].concat(Object(s.a)(Ee)))})).catch((function(e){return console.log(e)}))},onShowMore:function(){pe(ue+1)},isSearchOk:X,currentRow:ue})),o.a.createElement(z,{path:"/saved-news",component:M,isLoggedIn:c,onCardClick:je})),o.a.createElement(A,null),o.a.createElement(R,{isOpen:v,onClose:Ne,onChangeForm:Ce,onRegister:function(t,a,n){(function(e,t,a){return fetch("".concat(G,"/signup"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:JSON.stringify({email:e,password:t,name:a})}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e.error?new re(e.error):new re(e.message)}))}))})(t,e(a),n).then((function(e){console.log(e),w(!1),I(!0)})).catch((function(e){console.log(e.message),H(e.message)}))},authError:T}),o.a.createElement(B,{isOpen:O,onClose:Ne,onChangeForm:Ce,authError:T,onLogin:function(t,a){H(""),function(e,t){return fetch("".concat(G,"/signin"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Credentials":!0},credentials:"include",body:JSON.stringify({email:e,password:t})}).then((function(e){if(400===e.status)throw new re("\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439");if(401===e.status)throw new ce("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d");return e.json()})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e.token}))}(t,e(a)).then((function(e){le(e).then((function(e){g(e.data)})).catch((function(e){console.log(e),H(e.message)})),l(!0),j(!1),Oe()})).catch((function(e){console.log(e.message),H(e.message)}))}}),o.a.createElement(q,{isOpen:x,onClose:Ne,onChangeForm:function(){H(""),I(!1),j(!0)}}))))}a(43),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,null,o.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.47adb06a.chunk.js.map